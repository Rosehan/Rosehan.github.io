<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lilihx</title>
  <icon>https://www.gravatar.com/avatar/a4a54043ccf61d550ecae50bc9c1cd15</icon>
  <subtitle>夏虫语冰~小桥流水~杀你成仁</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-08-04T11:17:00.118Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Lilihx</name>
    <email>lihxsq@gmail.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>书评-《天才在左，疯子在右》</title>
    <link href="http://example.com/2021/08/04/%E4%B9%A6%E8%AF%84-%E3%80%8A%E5%A4%A9%E6%89%8D%E5%9C%A8%E5%B7%A6%EF%BC%8C%E7%96%AF%E5%AD%90%E5%9C%A8%E5%8F%B3%E3%80%8B/"/>
    <id>http://example.com/2021/08/04/%E4%B9%A6%E8%AF%84-%E3%80%8A%E5%A4%A9%E6%89%8D%E5%9C%A8%E5%B7%A6%EF%BC%8C%E7%96%AF%E5%AD%90%E5%9C%A8%E5%8F%B3%E3%80%8B/</id>
    <published>2021-08-04T03:38:00.000Z</published>
    <updated>2021-08-04T11:17:00.118Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>或许我也是精神病。</p></blockquote><a id="more"></a><h2 id="1，对该书的总体评价"><a href="#1，对该书的总体评价" class="headerlink" title="1，对该书的总体评价"></a>1，对该书的总体评价</h2><p>  该书是一本精神病人的访谈记录。作者以案例 + 对话的形式，向我们展现了一位位精神病人的故事。<br>  这里一定要注意：精神病 != 神经病。<br>  神经病更多是一种，生物上的神经系统疾病，是物质的。<br>  但精神病，更多强调是精神上的，是意识的。<br>  物质与意识的划分，还是要明确的。</p><p>  作者承认，对访谈记录有增删类的加工。<br>  至于是否为了哗众取宠而篡改事实，我想只有作者自己清楚了。</p><p>  作者选出的例子都很有代表性：精神分裂的，思路清奇的，特异功能的，量子物理的。。。<br>  其实还有作者自己。<br>  其间有些患者，确实有天才的潜质。正如书名的，天才与疯子，一线之隔。</p><p>  我们总讲天才，但是我一直以来的观点都是：天才是寂寞的，是与众不同的，是高处不胜寒的。<br>  其实，精神病人也有类似特点。他们同样有着奇异的观点，独特的视角。<br>  或许，精神病人有一点不同：他们的存在给眼前带来的更多可能是负面影响。<br>  比如：蛊惑大众的邪教分子，精神分裂的杀人犯等。<br>  又或许，是因为他们对这个我们既以为的现实世界的质疑。<br>  正如，地心说时代的哥白尼。</p><p>  总体而言：<br>  我对本书的兴趣是随着，阅读的深入而下降的。从一开始给我带来的惊喜，茫然，到后面的渐渐平淡。<br>  可能有时候我觉得，他们还没我精神病。</p><h2 id="2，印象深刻的几个方面"><a href="#2，印象深刻的几个方面" class="headerlink" title="2，印象深刻的几个方面"></a>2，印象深刻的几个方面</h2><h3 id="2-1-阿凡达：触角感应-–-语言的局限性"><a href="#2-1-阿凡达：触角感应-–-语言的局限性" class="headerlink" title="2.1 阿凡达：触角感应 – 语言的局限性"></a>2.1 阿凡达：触角感应 – 语言的局限性</h3><p>  文中谈到，阿凡达可以通过触角感应，来互相传达情感。<br>  情感是什么 ？当今的科学表名，意识是人脑中的化学和电信号感应，情感也只是生物上某种体内元素的分泌而已。<br>  语言是什么 ？语言是表达情感的一种工具 （作用之一）<br>  作为一种中介，先天性存在着误传，漏传的不足。所以有『溢于言表』等诸如此类的词汇。</p><p>  倘若，我们能够像阿凡达那样，跨越语言的局限，通过生物学上的互通来达到情感和意识的完全互通，让一个人能真正体会到另一个人。<br>  那么，心理疾病或许就不会在存在。<br>  了解 才能 治愈。</p><h3 id="2-2-不能理解的：精神分裂"><a href="#2-2-不能理解的：精神分裂" class="headerlink" title="2.2 不能理解的：精神分裂"></a>2.2 不能理解的：精神分裂</h3><p>  那是你吗 ？<br>  『三只小猪』的患者，令我印象深刻。<br>  一个人的大脑里，住了三个人。人格之间能相互隐藏，还能抹杀对方。</p><p>  很久之前，我就听过24个比利的故事。<br>  那段时间，我做了一个梦，主线是：<br>  一个侦探，调查一宗杀人案，最后发现凶手竟然是自己，另一个人格。</p><p>  虽然，有时候我情绪变化也很极端。<br>  有时候理智地像个混蛋，有时候伤秋风。<br>  但我从不能体会，什么是人格分裂，一个脑袋里，怎么会住着两个人。<br>  很多人说是，受了大的心理创伤，然后自己创造了另外一个自己。<br>  注意，这里是创造。</p><p>  既害怕，但想想又挺刺激的。</p><p>  人格分裂的前期是，自己和自己对话。<br>  想到这里，有时候我都不敢质问自己了。</p><h3 id="2-3-勇敢的职业：心理医生-amp-精神病医生"><a href="#2-3-勇敢的职业：心理医生-amp-精神病医生" class="headerlink" title="2.3 勇敢的职业：心理医生 &amp; 精神病医生"></a>2.3 勇敢的职业：心理医生 &amp; 精神病医生</h3><p>  本书有一个案例，一位患者把一个医生给整自杀了。</p><p>  以前，我总以为精神病医生是严厉的，凶狠的, 甚至是污秽的，肮脏的。<br>  一本书当然不能让我的固有印象发生彻底改观，但是至少能让我觉得，有些精神病医生还是可以的。</p><p>  治疗一个心理疾病者，需要走进他的心，然而，最要命的是，你如何保证：<br>  你不会被影响？<br>  你走进了他的心，你还能走出来吗？</p><p>  纵观本书，一些患者的思维逻辑如此之清晰，甚至到达了无可辩驳的境地。<br>  连我一个旁观者都不由得开始怀疑自己，更何况是需要深入接触的精神病医生？</p><p>  或者他们是专业的 ？<br>  在治疗他人之前，已经首先学会了，如何伪装和保护自己。</p><p>  每当想到那些被患者带进去的医生，我就不由得佩服起作者来。</p><p>  其实在我看来，作者也有精神病<br>  但是庆幸，他们有被关到精神病院</p><h3 id="2-4-民科：精神病患者"><a href="#2-4-民科：精神病患者" class="headerlink" title="2.4 民科：精神病患者"></a>2.4 民科：精神病患者</h3><p>  书中很多案例，给我的感觉和民科很类似。<br>  『果冻世界』一章，和我之前接触的一个民科很类似。只不过，之前那个民科使用海绵世界来形容的。</p><p>  民科，否认现有的科学体系，企图用一种更原始或者更奇异的方法解释世界。<br>  他们有的否定微积分，有的否定相对论，有的否定时间。<br>  现有的科学体系针对一些特殊现象，确实无法做出很好的解释。<br>  你和民科辩驳的时候，他们就会那这些来反驳你。</p><p>  民科，有的也有可取之处。<br>  他们对现有理论体系的批判精神，足已让人自惭形秽。<br>  很多人都是获取嗟来之食，从书本上，从前人经验上来获取自己的世界观。<br>  从来不问为什么 ？</p><p>  为什么时间会存在 ？<br>  为什么不能预测未来 ？</p><h3 id="2-5-不能理解：特异功能者"><a href="#2-5-不能理解：特异功能者" class="headerlink" title="2.5 不能理解：特异功能者"></a>2.5 不能理解：特异功能者</h3><p>  正如我开始所说：为了吸引读者注意力，作者有多少添油加醋的成分，这点不得而知。<br>  仅从书中所看，一些特意功能患者，确实让人无法理解。</p><p>  比如永生者，能记得清自己的前世。<br>  有的人感觉敏锐，能看清月下人的鬼影。<br>  能感受到每个人代表的动物。<br>  有的人见过外星人。。。</p><p>  这些似乎都是科学无法解释的。<br>  不知道是不是有患者本人的臆想。</p><h3 id="2-6-逻辑紧密者"><a href="#2-6-逻辑紧密者" class="headerlink" title="2.6 逻辑紧密者"></a>2.6 逻辑紧密者</h3><p>  很多患者，谈到『时间』的概念，『量子物理』的概念<br>  身为一个精神病，竟然对理论物理有如此深刻的见解，逻辑如此之严谨完善</p><p>  为什么不去发论文，而要关在精神病院呢 ？</p><h2 id="3，一些感想"><a href="#3，一些感想" class="headerlink" title="3，一些感想"></a>3，一些感想</h2><p>  每个人都是独一无二的个体，你我的思想定不一样。<br>  精神病何以为精神病 ？<br>  刨除危害他人身心健康者不谈，部分人未必可以定位精神病。</p><p>  正如『果冻世界』的女主角说：<br>  埋葬一个人，意味着死亡和失去<br>  但是埋葬一颗种子，代表着全新的生机即将开始。</p><p>  然后医生听了她的话，按照自己的方式理解了她的话，然后医生自杀了。<br>  说这话的人有罪吗 ？<br>  这是一个问题。</p><p>  我一直有种观点，这种观点可能很邪恶：<br>  究竟是：勾起人性恶的一面的人的有罪，还是邪恶的人性有罪 ？<br>  勾起的人充其量只是导火索，恶才是根源。</p><p>  但是悲哀的是：我们克服不了恶，我们只能杀死勾起的人。</p><h2 id="4，last"><a href="#4，last" class="headerlink" title="4，last"></a>4，last</h2><p>  有一个医生的观点，可能代表了大众的声音：<br>  如果一个人真有精神病，傻的很快乐，既然他没危害到别人，那就让他活在自己的世界里吧。</p><p>  只是我不会选择这样<br>  如果有一天得病的是我<br>  即便现实黑暗无边<br>  即便病里花天酒地<br>  也一定把我拉出来<br>  我也害怕黑暗<br>  但我。。。。。。</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;或许我也是精神病。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Heart" scheme="http://example.com/categories/Heart/"/>
    
    
    <category term="书评" scheme="http://example.com/Tags/%E4%B9%A6%E8%AF%84/"/>
    
  </entry>
  
  <entry>
    <title>梦-2021.8.3</title>
    <link href="http://example.com/2021/08/03/%E6%A2%A6-2021.8.3/"/>
    <id>http://example.com/2021/08/03/%E6%A2%A6-2021.8.3/</id>
    <published>2021-08-03T02:06:00.000Z</published>
    <updated>2021-08-03T03:02:47.449Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>意大利国弗洛伊德也解不了</p></blockquote><a id="more"></a><h2 id="梦"><a href="#梦" class="headerlink" title="梦"></a>梦</h2><p>王国中，狮子王和小狮子的故事。<br>王国每隔数年都会出现一次灾难，想要化解这个灾难，需要『圣花』<br>其被大狮子放在极高极高的山上，像是长在云端的山。<br>大狮子带着小狮子，一跳就能跳到那云端的山上，取出山口上的花，灾难便解除了，下一朵花继续在山口上孕育。</p><p>大狮子带着小狮子到很高的山上，在那里，星辰就在头上，触手可达。<br>看起来很小，像一个个宝石一样<br>大狮子说，那里面就是外星球，有着一个个世界</p><p>有一个星星里有一个老头（记不清了），和狮子们交谈<br>然后，大狮子和小狮子就跳到了那个星球里面<br>开始了惊险刺激的外星之旅</p><p>（很多细节记不清了）<br>那个老人似乎是个坏人，追杀狮子们<br>狮子们在这个世界里显得很小 （小，这点很重要）<br>路上，有两个像是线条构成的螳螂（像螳螂） （变形金钢里面那个小侦查机器人似的）<br>狮子们找到了一艘小船，坐在船上，顺流而下<br>（河水就像沙滩上，用树枝划了条沟，水从中间流过；船就像小时候折的纸船）<br>两个螳螂会钻地而行</p><p>但是小河到那边断流了<br>原来是前边正在修路，河水被堵住了</p><p>另：<br>同一天晚上，在做这个梦之前，我还陆陆续续做了几个梦。都与家乡场景相关：<br>1，在家乡屋顶上，玩狙击游戏 （荒野大镖客2 中的远程狙击）<br>2，四叔家的场景<br>相对而言，这两个梦我更能清楚地解释。但是不想再多费笔墨。</p><p>。。。 。。。</p><h2 id="解"><a href="#解" class="headerlink" title="解"></a>解</h2><p>有点难解。</p><h4 id="童话-和-狮子"><a href="#童话-和-狮子" class="headerlink" title="童话 和 狮子"></a>童话 和 狮子</h4><p>针对此次童话画像类梦，根源确实不好追溯，我只能说出自己的推测。<br>我在昨天微信读书上，看到了《月亮与六便士》，这本书我没读过<br>给我的印象是和《小王子》一类的童话书籍<br>狮子的概念，可能来源于我对《狮子王》的好评，但是最近这段时间，并未勾起我对《狮子王》的回忆。<br>是不是由 《月亮与六便士》 -&gt; 《小王子》 -&gt; 《狮子王》 产生的联想，不得而知。</p><h4 id="高山-和-花"><a href="#高山-和-花" class="headerlink" title="高山 和 花"></a>高山 和 花</h4><p>山是极高的山，根在云端，长在云端。<br>花非花，像是长在火山口的圣器。</p><p>山的概念，我无从得知。<br>花有可能是《原神》中，那个在犄角旮旯里飘浮的令牌。</p><p>但是，我真的好久没有玩原神了，也许这个场景在我潜意识里很深刻。</p><h4 id="手可摘星辰"><a href="#手可摘星辰" class="headerlink" title="手可摘星辰"></a>手可摘星辰</h4><p>这是给我印象极深的场景。<br>外星球，就像宝石一般在手边。<br>伸头可望像外星球，可以和外星人交谈。</p><p>难道是我以前『玄幻小说』看的太多 ？</p><h4 id="外星人"><a href="#外星人" class="headerlink" title="外星人"></a>外星人</h4><p>前一个晚上，在看《天才在左，疯子在右》时，确实出现过『外星人』的概念。<br>难道是由此产生的联想 ？</p><h4 id="会钻沙子的螳螂"><a href="#会钻沙子的螳螂" class="headerlink" title="会钻沙子的螳螂"></a>会钻沙子的螳螂</h4><p>同一天晚上，在做这个梦之前，我的另一个梦中：我给我爸讲了变形金钢。<br>（至于为什么，我会在前一个梦中，梦到变形金钢。我在后面说出）<br>钻地螳螂的概念，可能来自变形金钢。<br>那个由钢珠组成的，去基地里找威震天的，小机器人。<br>看着像寥寥几笔线条构成，凌厉</p><h4 id="小船顺流而下"><a href="#小船顺流而下" class="headerlink" title="小船顺流而下"></a>小船顺流而下</h4><p>不得而知。<br>河流的形象，就像是下雨天的小水沟。<br>船的形象，也是很随意的那种形象。</p><h4 id="水因前方修路而被堵住"><a href="#水因前方修路而被堵住" class="headerlink" title="水因前方修路而被堵住"></a>水因前方修路而被堵住</h4><p>不得而知。<br>但是感觉和 『河南大水』并无关联<br>我更觉得和 『成都之行』有关</p><h4 id="前一个梦，为啥会遇到变形金刚"><a href="#前一个梦，为啥会遇到变形金刚" class="headerlink" title="前一个梦，为啥会遇到变形金刚"></a>前一个梦，为啥会遇到变形金刚</h4><p>因为前一段时间，看到的变形金刚战力排名的视频，印象有点深刻。</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;意大利国弗洛伊德也解不了&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Heart" scheme="http://example.com/categories/Heart/"/>
    
    
    <category term="梦" scheme="http://example.com/Tags/%E6%A2%A6/"/>
    
  </entry>
  
  <entry>
    <title>梦-2021.7.29</title>
    <link href="http://example.com/2021/07/29/%E6%A2%A6-2021.7.29/"/>
    <id>http://example.com/2021/07/29/%E6%A2%A6-2021.7.29/</id>
    <published>2021-07-29T03:11:00.000Z</published>
    <updated>2021-07-29T02:47:19.939Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>单身的人别听慢歌</p></blockquote><a id="more"></a><h2 id="梦"><a href="#梦" class="headerlink" title="梦"></a>梦</h2><p>故乡小村落，村口大路<br>我，tt，hl，hw</p><p>tt’s mom 说，我俩再单身，可以考虑下彼此</p><p>准备与 hw 去街上吃饭，路过 hl 家，人刚起<br>准备叫着一起<br>hl’s mom 说，人一会有事，去不了</p><h2 id="解"><a href="#解" class="headerlink" title="解"></a>解</h2><p>单身的问题，应当是我昨天朋友圈，被我姐嘲讽单身，由此而引发。<br>tt 是我发小，如今同在京。<br>我一直有种被父老乡亲认可的渴望，因此，很希望家乡人说，你看你俩同在京，你好好照料一下她之类的话。<br>梦里，tt’mom 的言论有这种倾向，但是凑一对还是不现实的。</p><p>从村口到镇上，我姑家的那两条路，是我童年时代记忆犹深的地方，因此很多梦中都会出现此场景。</p><p>hw，应当是现实中想到他快要结婚，而我孤身一人，两相对比所起。<br>hl，应当是昨日朋友圈，看到她动态所起。<br>hl’mom 应当是在我心中和 hl 关联比较深，一起出现。</p><p>去街上吃饭，应当是我饿了。<br>这个场景，在我梦中也出现很多次了<br>街两边各种吃的，从东边一直到十字路口那边<br>这应当与我童年记忆有关</p><p>虽然，每一次梦里，我都没有吃到</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;单身的人别听慢歌&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Heart" scheme="http://example.com/categories/Heart/"/>
    
    
    <category term="梦" scheme="http://example.com/Tags/%E6%A2%A6/"/>
    
  </entry>
  
  <entry>
    <title>梦-2021.7.28</title>
    <link href="http://example.com/2021/07/28/%E6%A2%A6-2021.7.28/"/>
    <id>http://example.com/2021/07/28/%E6%A2%A6-2021.7.28/</id>
    <published>2021-07-28T02:08:00.000Z</published>
    <updated>2021-07-29T02:07:50.288Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>古有意大利国弗洛伊德</p></blockquote><a id="more"></a><h2 id="梦"><a href="#梦" class="headerlink" title="梦"></a>梦</h2><p>三舅家的房间里，大家欣喜地看着刚出生的小家伙。光从姥姥的照片上折射到沙发上，形成3D投影般的效果。她就坐在沙发上，阳光洒在她温和的脸上。</p><p>我从梦中迷茫惊醒，半睡半醒间，提醒自己原来还可以这样，让照片经过阳光折射，来形成真人般的效果。</p><h2 id="解"><a href="#解" class="headerlink" title="解"></a>解</h2><p>昨日，微信群中三jin 子分享小孙女的照片，看着可爱的小家伙，给我印象深刻。</p><p>但有一种情结一直在我心中未解：<br>姥姥没能看到，自己的大孙子结婚，也没能看到自己的重孙女这么可爱。要是她能看到，该有多开心。</p><p>还有我爷爷，<br>已经走了十几年了，<br>十几年前，我家和我叔伯家对内对外的关系远没有现在这么好<br>十几年中，<br>我家的第三代多了一个，第四代多了5个<br>我哥哥姐姐弟弟当中<br>有的国防生去当了兵<br>有的当了中学教师<br>有的中高考全县排前几名，名牌大学毕业<br>。。。<br>这些，他全看不到了。<br>我甚至觉得，他几乎错过了整个我们家族的上升期。</p><p>我不知道该欣慰还是该遗憾。</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;古有意大利国弗洛伊德&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Heart" scheme="http://example.com/categories/Heart/"/>
    
    
    <category term="梦" scheme="http://example.com/Tags/%E6%A2%A6/"/>
    
  </entry>
  
  <entry>
    <title>设计模式之 单例模式</title>
    <link href="http://example.com/2021/03/04/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    <id>http://example.com/2021/03/04/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</id>
    <published>2021-03-04T12:40:00.000Z</published>
    <updated>2021-07-29T02:07:58.063Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>单例模式(Single Pattern) ：Ensure  a class has only one instance, and provide a global point of access to it.</p><p>我是皇帝我独苗。单例模式作为设计模式中最简单的一种方式，似乎也是我这个小白唯一用过的设计模式。本系列，用以记录对《设计模式之禅》的学习。</p></blockquote><a id="more"></a><h1 id="单例模式的应用"><a href="#单例模式的应用" class="headerlink" title="单例模式的应用"></a>单例模式的应用</h1><p>优点 和 缺点 和 应用场景：<strong>以书上为例</strong>，不再复制粘贴。</p><h1 id="test1"><a href="#test1" class="headerlink" title="test1"></a>test1</h1><h2 id="test2"><a href="#test2" class="headerlink" title="test2"></a>test2</h2><h3 id="test3"><a href="#test3" class="headerlink" title="test3"></a>test3</h3><h4 id="test4"><a href="#test4" class="headerlink" title="test4"></a>test4</h4><p>我只说我的体验：</p><blockquote><p>我曾经要写一个爬虫小项目。分的模块大概有：配置文件读取，种子文件读取，结果文件读取，网页解析等。</p><p>在实现的时候我遇到了一个问题：配置文件读取模块，在几乎所有的模块都需要使用，如果我才用正常的类，那么就需要在每个模块都实例化一个配置模块读取类。然而配置模块读取类，只需要在项目启动的时候，初始化一次，后面几乎不需要改变。</p><p>开始我同样采用static方法，后面把这种类都实现为了单例类。</p></blockquote><p>根据我上面的体验，我观察了书中所写，提取出了符合我上述所想的几点：</p><p>单例模式的优点：</p><ul><li>单例模式可以避免对资源的多重占用，例如一个写文件操作，由于只有一个实例存在与内存中，避免对同一个资源文件的同事写操作。</li><li>单例模式可以在系统设置全局的访问点，优化和共享资源访问，例如可以设计一个单例类，负责对所有数据的映射处理。</li></ul><p>单例模式的缺点：</p><ul><li>扩展困难。</li><li>测试不便。</li><li>单例模式 与 单一职责原则有冲突。一个类应该只实现一个逻辑，而不关心它是否是单例的，是不是要单例取决于环境。单例模式把『要单例』和业务逻辑融合于一个类中</li></ul><p>单例模式的使用场景：</p><ul><li>要求生成唯一序列号的环境</li><li>在整个项目中需要一个共享访问点或共享数据</li><li>需要定义大量的静态常量和静态方法（如工具类）的环境</li></ul><h2 id="单例模式的实现"><a href="#单例模式的实现" class="headerlink" title="单例模式的实现"></a>单例模式的实现</h2><p>以Java为例：线程安全的例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton singleton = <span class="keyword">new</span> Singleton();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造参数为私有</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过该方法获取实例信息</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> singleton;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类中其他方法，最好是static</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dosomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>作为对比，这里提供一个线程不安全的例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton singleton = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造参数为私有</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过该方法获取实例信息</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(singleton == <span class="keyword">null</span>) &#123;</span><br><span class="line">singleton = <span class="keyword">new</span> Singleton();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> singleton;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类中其他方法，最好是static</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dosomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>线程不安全的例子，当多个线程同时访问到 if 判断为null的语句时，会各自对singeton 进行初始化。</p><p>另：</p><blockquote><p>我最开始举例中，Python版的单例实现方式中用的时construct方法。contruct时Python中在调用Init构造函数之前调用的函数，可以使用construct来实现Python版的单例模式。</p><p>Python类的高级知识，涉及到construct，元类等知识，有兴趣的可以去查一查。</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;单例模式(Single Pattern) ：Ensure  a class has only one instance, and provide a global point of access to it.&lt;/p&gt;
&lt;p&gt;我是皇帝我独苗。单例模式作为设计模式中最简单的一种方式，似乎也是我这个小白唯一用过的设计模式。本系列，用以记录对《设计模式之禅》的学习。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="code" scheme="http://example.com/categories/code/"/>
    
    
    <category term="设计模式" scheme="http://example.com/Tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Leetcode 之 dfs</title>
    <link href="http://example.com/2021/03/04/Leetcode-%E4%B9%8B-dfs/"/>
    <id>http://example.com/2021/03/04/Leetcode-%E4%B9%8B-dfs/</id>
    <published>2021-03-04T06:12:00.000Z</published>
    <updated>2021-07-29T02:08:23.615Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>Dfs : deep first search。深度优先搜索，主要用于数据结构中的树论或图论之中。与之对应的是：广度优先搜索。『寻路算法』的思想主要是：step forward，不行就go back。下面以LeetCode的题目作为举例。</p></blockquote><a id="more"></a><h2 id="题目1"><a href="#题目1" class="headerlink" title="题目1"></a>题目1</h2><p><a href="https://leetcode-cn.com/problems/ju-zhen-zhong-de-lu-jing-lcof/">题目链接：</a></p><p><img src="http://bj.bcebos.com/ibox-thumbnail98/d7bca9ac9f9a2491041c9f18e85c1bc7?authorization=bce-auth-v1%252Ffbe74140929444858491fbf2b6bc0935%252F2021-03-04T05%253A33%253A44Z%252F1800%252F%252Fe493675c50a019f209817c3923d911a5c835a23b6ef07415a2c91a57468f0a15" alt="截屏2021-03-04 下午1.33.38"></p><p>思路：这是一个典型的『寻路』题。下面直接给出代码：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">exist</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">string</span> word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rows = board.size();</span><br><span class="line">        <span class="keyword">int</span> cols = board[<span class="number">0</span>].size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(dfs(board, word, i, j, <span class="number">0</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">string</span> word, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> rows = board.size();</span><br><span class="line">        <span class="keyword">int</span> cols = board[<span class="number">0</span>].size();</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= rows || i &lt; <span class="number">0</span> || j &gt;= cols || j &lt; <span class="number">0</span> || board[i][j] != word[k]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(k == word.size() - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        board[i][j] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        <span class="keyword">bool</span> res = dfs(board, word, i + <span class="number">1</span>, j, k + <span class="number">1</span>) || dfs(board, word, i - <span class="number">1</span>, j, k + <span class="number">1</span>) || </span><br><span class="line">                      dfs(board, word, i, j + <span class="number">1</span>, k + <span class="number">1</span>) || dfs(board, word, i , j - <span class="number">1</span>, k + <span class="number">1</span>);</span><br><span class="line">        board[i][j] = word[k];</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>实现dfs的主要方式就是递归，这里判断的是字符串是否和某一路径匹配。我们用k作为已经匹配的长度。寻路算法需要注意的几点是：</p><ul><li>某次搜索的结束条件：通常为边界值 + 特定条件。本题中的特定条件是字符串不匹配。</li><li>状态记录：主要记录某节点的状态值：是否访问过 等。在访问某节点后，需要更新状态值。</li><li>回退：当当前节点的各方向都不可达时，需要将当前节点的状态回退。通常是 将已访问 改为 未访问。</li></ul><p>本题的思路中，巧妙的一点是：没有新开状态数组，而是在原字符串数组中，利用特殊字符来记录状态变化。</p><p>另：本题虽然这种方法通过，但是 时空间 表现却极差。<img src="http://bj.bcebos.com/ibox-thumbnail98/a433025c2f0efe2fac7171cbbedf0841?authorization=bce-auth-v1%252Ffbe74140929444858491fbf2b6bc0935%252F2021-03-04T05%253A49%253A45Z%252F1800%252F%252F1291d09016b74a73213d6ae12db083280e5d56cea4e717c93f6f3ccfabb82deb" alt="截屏2021-03-04 下午1.49.40"></p><p>** 分析 **</p><blockquote><p>上述方法对每个节点都进行了大量重复的遍历，我们的跳出判断拦截率不高。我们在做<strong>字符串模式匹配</strong>的时候，注意到其会利用到字符串本身的特性。</p></blockquote><blockquote><p>此外，我们没有利用子问题的解。我可以提供一种思想：比如我们从后往前遍历，记录后面每个节点可以匹配到的末尾字符串数量。比如子节点i,j 可以匹配最后w各字符，那我们往前探寻的时候就可以充分利用子问题的解，减少递归。</p></blockquote><h2 id="题目2："><a href="#题目2：" class="headerlink" title="题目2："></a>题目2：</h2><p><a href="https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/">题目链接</a></p><p><img src="http://bj.bcebos.com/ibox-thumbnail98/96f2291be8d98a60c35256f15449e3c4?authorization=bce-auth-v1%252Ffbe74140929444858491fbf2b6bc0935%252F2021-03-04T05%253A57%253A40Z%252F1800%252F%252F8cce66d9e7722871567fa9a5965d5d87e68df513c70c4f9d9db29dae7cc699dc" alt="截屏2021-03-04 下午1.57.35"></p><p><strong>分析</strong></p><p>该题目和第一题很类似。典型的dfs问题。需要注意的是：</p><ul><li>该dfs的跳出判断是：出界 + 当前节点已访问 + 当前节点不合法</li><li>状态记录：需要新开内存，记录每个节点状态</li><li>回退：该题的回退你可以理解为：路路可达。路路不可达时，回退当前节点。可达时不需要回退。</li></ul><p>** 代码 **</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">cal_num</span> <span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(num &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">            res += (num%<span class="number">10</span>);</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res += num;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; &amp;table, <span class="keyword">int</span> width, <span class="keyword">int</span> height, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = table.size();</span><br><span class="line">        <span class="keyword">int</span> col = table[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(width&lt;<span class="number">0</span> || width&gt;=row || height&lt;<span class="number">0</span> || height&gt;=col) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(cal_num(width) + cal_num(height) &gt; k) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(table[width][height]) <span class="keyword">return</span>;</span><br><span class="line">        table[width][height] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        dfs(table, width<span class="number">-1</span>,height, k);</span><br><span class="line">        dfs(table, width+<span class="number">1</span>,height, k);</span><br><span class="line">        dfs(table, width,height<span class="number">-1</span>, k);</span><br><span class="line">        dfs(table, width,height+<span class="number">1</span>, k);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">movingCount</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; table(m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; i++) &#123;</span><br><span class="line">            table[i].resize(n);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j =<span class="number">0</span>; j&lt;n; j++) &#123;</span><br><span class="line">                table[i][j] = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(table, <span class="number">0</span>, <span class="number">0</span>, k);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j =<span class="number">0</span>; j&lt;n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(table[i][j])</span><br><span class="line">                    res ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>注意：</p><blockquote><p>状态数组我用的是bool，bool只能表示两种状态：已访问 未访问。但是本题中还有第三种状态：行列超出范围导致的『节点无效』。关于这个节点无效的处理方式有两种：</p><ul><li>dfs之前：状态方程不用bool，增加第三种状态记录。</li><li>dfs之中：dfs的时候进行判断，状态方程已然用Bool, 只需两种</li></ul><p>前者bool转int，内存增大；后者判断的次数增大，如果单独写cal_num，调用栈 和 调用次数增加，时间和内存也可能增大。</p></blockquote><p>两种方法的时空间表现如下：</p><p><img src="http://bj.bcebos.com/ibox-thumbnail98/0bfbb5793a71a14d904fcd485acdc771?authorization=bce-auth-v1%252Ffbe74140929444858491fbf2b6bc0935%252F2021-03-04T06%253A03%253A53Z%252F1800%252F%252F66e7b475a646a9c8e1386ba05888f5f9109455d15e3fa9a8ac1b8090382fbbff" alt="截屏2021-03-04 下午2.03.48"></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Dfs : deep first search。深度优先搜索，主要用于数据结构中的树论或图论之中。与之对应的是：广度优先搜索。『寻路算法』的思想主要是：step forward，不行就go back。下面以LeetCode的题目作为举例。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="code" scheme="http://example.com/categories/code/"/>
    
    
    <category term="Leetcode" scheme="http://example.com/Tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>Luckyexcel搭建</title>
    <link href="http://example.com/2021/02/22/Luckyexcel/"/>
    <id>http://example.com/2021/02/22/Luckyexcel/</id>
    <published>2021-02-22T06:25:00.000Z</published>
    <updated>2021-07-29T02:08:18.739Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>需求：局域网下多人共享excel<br>Luckyexcel是国内开源的在线excel工具，可以嵌入到网站中，也可以单独部署来满足我们的需求。</p></blockquote><a id="more"></a><h2 id="1，依赖：node安装"><a href="#1，依赖：node安装" class="headerlink" title="1，依赖：node安装"></a>1，依赖：node安装</h2><p>Luckyexcel依赖于node。因此我们首先需要配置node。</p><p>windows下配置node链接：<a href="https://blog.csdn.net/zjh_746140129/article/details/80460965">点击跳转node安装教程</a></p><p>node安装里面有重要的几步：<br>1，下载node安装<br>2，配置环境变量<br>3，配置npm源</p><p>安装成功的验证方式：<br>windows打开cmd命令行，输入node -v，回车显示版本号</p><p>输入npm -v，回车显示版本号</p><h2 id="2，LuckyExcel安装"><a href="#2，LuckyExcel安装" class="headerlink" title="2，LuckyExcel安装"></a>2，LuckyExcel安装</h2><p>LuckySheet的官方地址：<a href="https://gitee.com/mengshukeji/Luckysheet">点击跳转</a></p><p>LuckyExcel的官方地址:<a href="https://gitee.com/mengshukeji/Luckyexcel#/mengshukeji/Luckyexcel/blob/master/src/index.html">点击跳转</a></p><p>LuckySheet是一个开源的基于node.js的在线表格编辑器，LuckyExcel在luckySheet的基础至上增加了xlsx文件的导入导出。</p><p>LuckyExcel的安装方式：<br/><br>1，使用cmd命令行，cd到某个文件夹，（路径自己定义，但<strong>尽量不要出现中文路径</strong>）</p><p>2，cmd命令行下执行命令</p><p><code>git clone https://gitee.com/mengshukeji/Luckyexcel.git </code></p><p>该命令会将源代码下载到当前路径，生成一个Luckyexcel开头的文件夹</p><p>3，cmd命令行下执行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 进入到特定目录</span></span><br><span class="line">cd Luckyexcel</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> npm 下载, 需要时间等待</span></span><br><span class="line">npm install luckyexcel</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> npm下载，需要时间等待</span></span><br><span class="line">npm install -g gulp-cli</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> npm安装依赖，需要时间等待</span></span><br><span class="line">npm install</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>4, 上述命令没有报错后，证明已经安装成功</p><p>运行 <strong>npm run dev</strong> 命令启动</p><p><img src="http://bj.bcebos.com/ibox-thumbnail98/b33071adb2562076cd47a46b0130a641?authorization=bce-auth-v1%252Ffbe74140929444858491fbf2b6bc0935%252F2021-02-22T06%253A46%253A19Z%252F1800%252F%252Ff8b10b7d0471819c0135f37fc2dd6e2ded46f60999d26e566d632efce94e0da4" alt="截屏2021-02-22 下午2.46.15"></p><p>启动后如上述截图，使用图中的倒数第三行的external链接，在浏览器中访问。</p><h2 id="3，共享"><a href="#3，共享" class="headerlink" title="3，共享"></a>3，共享</h2><p>上述操作在Server的3000端口启动了一个进程，如果Server的网络设置完好，同一局域网下的其余用户也可以正常访问。</p><p>如果网络未设置好，请尝试配置windows下的防火墙或者网络设置，打开3000端口供外部访问即可。</p><h2 id="4，重要说明"><a href="#4，重要说明" class="headerlink" title="4，重要说明"></a>4，重要说明</h2><p>1，上述启动之后，该Server的生命周期 就和 该cmd窗口的生命周期绑定在一起，cmd窗口不能关闭，否则会杀死进程。</p><p>2，该工具暂不支持打印。可以使用 导入 导出功能，将文件导出到本地，使用Excel打印。</p><p>3，该工具不支持新建文件，可以使用子表格的方式。</p><p>4，… … 其余不支持的功能，看是否能用导入导出 &amp; excel的方式解决。</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;需求：局域网下多人共享excel&lt;br&gt;Luckyexcel是国内开源的在线excel工具，可以嵌入到网站中，也可以单独部署来满足我们的需求。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="code" scheme="http://example.com/categories/code/"/>
    
    
    <category term="Tool" scheme="http://example.com/Tags/Tool/"/>
    
  </entry>
  
  <entry>
    <title>一</title>
    <link href="http://example.com/2021/02/20/%E4%B8%80/"/>
    <id>http://example.com/2021/02/20/%E4%B8%80/</id>
    <published>2021-02-20T11:11:00.000Z</published>
    <updated>2021-07-29T02:08:05.301Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>和h一起去看电影的那年夏天。网上铺天盖地地吹捧《药神》，我看完后忿忿不平。一是悲悯这部电影，已然望见雷池，却迈不过雷池；二是冷眼一群猪瞎叫唤。</p></blockquote><a id="more"></a><br/>![截屏2021-02-23 下午1.24.19](http://bj.bcebos.com/ibox-thumbnail98/efd8f882ccd6ea478686312db678163d?authorization=bce-auth-v1%252Ffbe74140929444858491fbf2b6bc0935%252F2021-02-23T05%253A24%253A22Z%252F1800%252F%252F021c72be7ac8a442a208bdaad9a7eb8d2f55272791f7f61269f53c9057cd2755)即便我一直提防自己，永远以山下人的眼光抬眼看这个世界，永远也别站在道德的制高点。可我还是会纠结，社会太复杂。我一方面感慨共产党领导下的共和国飞速发展，一方面深思发展所付出的代价；一方面对西方诋毁噬之以鼻，另一方面对国内群情激愤失望至极。<br/>前段时间，朋友劝我春节做直播，轻松百万粉。我玩笑着回应到：假如我有了百万粉，我就在直播间，对粉丝说：『你们知道吗，你们中的80%都是傻子』。<br/><br/>这其实就是我对这个社会过于偏激的评价，多数人是猪。一百多年来，变过吗？<br/>当然变过，我肯定百余年来中国思想的空前解放。但与改革开放来经济飞速发展相比，我对思想上的解放，极度失望。<br/><br/>在我的理念中，我称之为『代价』。<br/>经济发展的代价就是思想上的停滞。社会发展的节点，就是一次次抉择。我们选择了A，就相对延缓了B。<br/><br>我不得不庆幸的是：我们选择了经济，让我今天能吃饱了撑得，畅所欲言。<br/>假如历史重来，我一样支持选A，我甚至会偏激的杀B取A。在我的世界观里，我称之为『杀你成仁』<br/><br/>只是，即便如此。实事求是，优点是永远不能掩盖缺陷的。<br/><br/>我溯流而上，追寻答案的时候，总是提醒自己，从0开始，破往生绝学，试开万世太平。然而不过更加迷茫。<br/>真理在哪里？有真理吗？<br/>马克思主义带了了唯物辩证法，这是形成我现在思想的关键因素。<br/>如果中国的年轻一代，都学了马克思主义，我会将其放到54的空前高度。<br/>只是有的即便是共产党员，也未必有多高的觉悟。<br/><br/>我其实一直不相信自己，我从不认为我说的就是对的。<br/>我坚持我，因为我是我，不是我是对的。<br/><br/>回到开头，我以电影引入。只是为了反驳『脑残粉』。<br/>爱不是全盘肯定，我们永远要以辩证法理智地看问题，跳出来，千万不要陷进去。<br/>以一个旁观者地角度分析反面观点。<p>但我也没有百万粉丝啊？怎么偏激地对他们说：<br/><br>『你们知道吗，你们其中大多数都是猪』</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;和h一起去看电影的那年夏天。网上铺天盖地地吹捧《药神》，我看完后忿忿不平。一是悲悯这部电影，已然望见雷池，却迈不过雷池；二是冷眼一群猪瞎叫唤。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Heart" scheme="http://example.com/categories/Heart/"/>
    
    
    <category term="随笔" scheme="http://example.com/Tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Python数据库连接：Li_Db探索</title>
    <link href="http://example.com/2021/01/26/Python%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%EF%BC%9ALi-Db%E6%8E%A2%E7%B4%A2/"/>
    <id>http://example.com/2021/01/26/Python%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%EF%BC%9ALi-Db%E6%8E%A2%E7%B4%A2/</id>
    <published>2021-01-26T05:01:00.000Z</published>
    <updated>2021-07-29T02:08:12.621Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>在日常编写Python脚本的时候，总会遇到一种头疼的情况：拼接SQL。Pymysql，Mysql-connector等第三方数据库连接工具都只是提供了最简单的execute操作，增删改查语句都需要我们手拼SQL，这在日常开发中是极其不便的。</p></blockquote><blockquote><p>此外，成熟的Server开发语言如Java，PHP等，都会将数据库连接生成配置文件单独维护。因此基于上面两种痛点，自己在PymySQL上封装了一层，来解决这两个问题。</p></blockquote><a id="more"></a><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>Li_Db的简单类图如下：</p><p><img src="http://bj.bcebos.com/ibox-thumbnail98/ae57f990546710071579eb8f5b05a5a6?authorization=bce-auth-v1%252Ffbe74140929444858491fbf2b6bc0935%252F2021-01-26T05%253A21%253A04Z%252F1800%252F%252F066b9c87f27dad8b5a19a5ef5f1580cc046e75275ff42a6954fcdb8dc6d39a12" alt="截屏2021-01-26 下午1.21.00"></p><p>一个上层调用者，不再需要导入PyMysql，只需要实例化一个Db_Mgr，然后配置响应的config_file即可。</p><p>一个Format_insert语句如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">format_insert</span>(<span class="params">table, row</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;DESC: 构造sql语句 </span></span><br><span class="line"><span class="string">    Arguments：</span></span><br><span class="line"><span class="string">    table：表名 </span></span><br><span class="line"><span class="string">    row  ：待插入数据，字典型 </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    sql = <span class="string">&quot;INSERT INTO %s ( &quot;</span> % table </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> row.keys():</span><br><span class="line">        sql += <span class="string">&quot;`%s`&quot;</span> % key </span><br><span class="line">        sql += <span class="string">&#x27;,&#x27;</span></span><br><span class="line">    <span class="comment"># 去除最后一个逗号</span></span><br><span class="line">    sql = sql[:-<span class="number">1</span>]</span><br><span class="line">    sql += <span class="string">&#x27;) VALUES (&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> val <span class="keyword">in</span> row.values():</span><br><span class="line">        <span class="comment"># val 是int or float 不用加引号</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(val) == <span class="built_in">int</span> <span class="keyword">or</span> <span class="built_in">type</span>(val) == <span class="built_in">float</span>:</span><br><span class="line">            sql += <span class="built_in">str</span>(val)</span><br><span class="line">            sql += <span class="string">&#x27;,&#x27;</span></span><br><span class="line">            <span class="keyword">continue</span> </span><br><span class="line">        sql += (<span class="string">&quot;\&quot;%s\&quot;,&quot;</span> % val)</span><br><span class="line">    <span class="comment"># 去除最后一个,</span></span><br><span class="line">    sql = sql[:-<span class="number">1</span>]</span><br><span class="line">    sql += <span class="string">&#x27;)&#x27;</span>     </span><br><span class="line">    <span class="keyword">return</span> sql </span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>其余的format思想也都类似，调用者只需要传入key-value，Li_Db便可自动将其生成SQL，并执行。</p><p>Db_Mgr代码示例如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DBMgr</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;数据库管理类</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    db = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, clustername</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;构造函数</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">            clustername ([type]): [description]</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.connect(clustername)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">connect</span>(<span class="params">self, clustername</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;读取cluster配置文件</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">            clustername ([type]): [description]</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 首先读取cluster配置文件</span></span><br><span class="line">        config_filename = <span class="string">&quot;db.ini&quot;</span></span><br><span class="line"></span><br><span class="line">        now_path = os.path.join(os.path.dirname(__file__))</span><br><span class="line">        config_file = os.path.join(now_path, config_filename)</span><br><span class="line">        cf = configparser.ConfigParser()</span><br><span class="line">        cf.read(config_file)</span><br><span class="line"></span><br><span class="line">        ip = cf.get(clustername, <span class="string">&quot;ip&quot;</span>)</span><br><span class="line">        username = cf.get(clustername, <span class="string">&quot;username&quot;</span>)</span><br><span class="line">        password = cf.get(clustername, <span class="string">&quot;password&quot;</span>)</span><br><span class="line">        db = cf.get(clustername, <span class="string">&quot;db&quot;</span>)</span><br><span class="line">        port = cf.getint(clustername, <span class="string">&quot;port&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.get_conmgr(ip, username, password, db, port)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_conmgr</span>(<span class="params">self, host, user, passwd, db=<span class="string">&#x27;&#x27;</span>, port=<span class="number">3306</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                charset=<span class="string">&#x27;utf8&#x27;</span>, log_name=<span class="literal">None</span>, log_file=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;连接数据库</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">            host ([type]): [description]</span></span><br><span class="line"><span class="string">            user ([type]): [description]</span></span><br><span class="line"><span class="string">            passwd ([type]): [description]</span></span><br><span class="line"><span class="string">            db (str, optional): [description]. Defaults to &#x27;&#x27;.</span></span><br><span class="line"><span class="string">            port (int, optional): [description]. Defaults to 3306.</span></span><br><span class="line"><span class="string">            charset (str, optional): [description]. Defaults to &#x27;utf8&#x27;.</span></span><br><span class="line"><span class="string">            log_name ([type], optional): [description]. Defaults to None.</span></span><br><span class="line"><span class="string">            log_file ([type], optional): [description]. Defaults to None.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            self.conn = pymysql.connect(host=host, user=user, </span><br><span class="line">            passwd=passwd, port=port, read_timeout=<span class="number">30</span>, charset=charset)</span><br><span class="line">            self.cur = self.conn.cursor(cursor=pymysql.cursors.DictCursor)</span><br><span class="line">            <span class="keyword">if</span> self.is_db_exist(db):</span><br><span class="line">                self.cur.execute(<span class="string">&#x27;USE %s&#x27;</span> % db)</span><br><span class="line">                print(<span class="string">&#x27;select database success. db: %s&#x27;</span> % db)</span><br><span class="line">                self.db = db</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                self.select_db(db)</span><br><span class="line">            self.cur.execute(<span class="string">&#x27;SET NAMES %s&#x27;</span> % charset)</span><br><span class="line">        <span class="keyword">except</span> pymysql.Error <span class="keyword">as</span> e:</span><br><span class="line">            print(<span class="string">&#x27;Mysql Error: %s&#x27;</span> % (e))</span><br><span class="line">            self.cur = <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_db_exist</span>(<span class="params">self, db</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; 数据库是否存在</span></span><br><span class="line"><span class="string">            Args:</span></span><br><span class="line"><span class="string">            db: 数据库名称</span></span><br><span class="line"><span class="string">        Return:</span></span><br><span class="line"><span class="string">            True: 存在</span></span><br><span class="line"><span class="string">            False: 不存在</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        table = <span class="string">&#x27;information_schema.SCHEMATA&#x27;</span></span><br><span class="line">        columns = <span class="string">&#x27;*&#x27;</span></span><br><span class="line">        param = <span class="string">&#x27;WHERE SCHEMA_NAME=\&#x27;%s\&#x27;&#x27;</span> % db</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            result = self.query(table, columns, param)</span><br><span class="line">            <span class="keyword">if</span> result:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">except</span> pymysql.Error <span class="keyword">as</span> e:</span><br><span class="line">            print(<span class="string">&#x27;Mysql Error: %s&#x27;</span> % (e))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">execute</span>(<span class="params">self, sql</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;直接执行SQL语句</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">            sql ([type]): [description]</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            self.cur.execute(sql)</span><br><span class="line">            self.conn.commit()</span><br><span class="line">            result = self.cur.fetchall()</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line">        <span class="keyword">except</span> pymysql.Error <span class="keyword">as</span> e:</span><br><span class="line">            print(<span class="string">&quot;Mysql Error: %s&quot;</span> % e)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">query</span>(<span class="params">self, table, columns, param</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;查询数据库</span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">            table: 表名</span></span><br><span class="line"><span class="string">            columns: 插入的列</span></span><br><span class="line"><span class="string">            param: 查询条件</span></span><br><span class="line"><span class="string">        Return:</span></span><br><span class="line"><span class="string">            Dict: 包含查询结果的字典</span></span><br><span class="line"><span class="string">            False: 查询失败</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        sql = <span class="string">&#x27;SELECT %s FROM %s %s&#x27;</span> % (columns, table, param)</span><br><span class="line">        print(<span class="string">&#x27;sql: %s&#x27;</span> % sql)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            start_time = time.time()</span><br><span class="line">            self.cur.execute(sql)</span><br><span class="line">            end_time = time.time()</span><br><span class="line">            print(<span class="string">&#x27;execute sql cost: %f&#x27;</span> % (end_time - start_time))</span><br><span class="line">            start_time = time.time()</span><br><span class="line">            result = self.cur.fetchall()</span><br><span class="line">            end_time = time.time()</span><br><span class="line">            print(<span class="string">&#x27;fetch result cost: %f&#x27;</span> % (end_time - start_time))</span><br><span class="line">            resultdict = []</span><br><span class="line">            start_time = time.time()</span><br><span class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> result:</span><br><span class="line">                resultdict.append(item)</span><br><span class="line">            end_time = time.time()</span><br><span class="line">            print(<span class="string">&#x27;append result cost: %f&#x27;</span> % (end_time - start_time))</span><br><span class="line">            <span class="keyword">return</span> resultdict</span><br><span class="line">        <span class="keyword">except</span> pymysql.Error <span class="keyword">as</span> e:</span><br><span class="line">            print(<span class="string">&#x27;Mysql Error: %s&#x27;</span> % e)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure><p>而Db_Mgr可以封装自定义你想要的一切SQL操作，比如getById, multiInsert等等。这样就能在多个Python脚本之中复用了。</p><h2 id="2，可优化"><a href="#2，可优化" class="headerlink" title="2，可优化"></a>2，可优化</h2><p>Format_SQL只支持最简单的 fileds 和 where语句，更复杂的条件查询，聚合函数等等复杂的SQL，需要优化FormatSQL。我见过一个PHP版本的类似操作，整个文件达到了大几百行，因此实现起来还是很复杂的。</p><p>希望以后能逐步完善。</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;在日常编写Python脚本的时候，总会遇到一种头疼的情况：拼接SQL。Pymysql，Mysql-connector等第三方数据库连接工具都只是提供了最简单的execute操作，增删改查语句都需要我们手拼SQL，这在日常开发中是极其不便的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;此外，成熟的Server开发语言如Java，PHP等，都会将数据库连接生成配置文件单独维护。因此基于上面两种痛点，自己在PymySQL上封装了一层，来解决这两个问题。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="code" scheme="http://example.com/categories/code/"/>
    
    
    <category term="Python" scheme="http://example.com/Tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>First &amp; Why</title>
    <link href="http://example.com/2021/01/19/First-Why/"/>
    <id>http://example.com/2021/01/19/First-Why/</id>
    <published>2021-01-19T02:01:00.000Z</published>
    <updated>2021-07-29T02:08:28.688Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>时隔多年，他又拿出了尘封已久的lilihx.com，竟然有了些悔意。</p></blockquote><a id="more"></a><p>大概去年，某云一直发邮件通知他的WordPress不合规范，正直当时busy for studying，无暇他顾；再者，time to say bye to my school life。他的学生优惠嘎然而止。便放弃他的博客网站，甚至连备份都没有。</p><p>然工作之后，一个域名于他而言已经不算什么，再者lilihx毕竟和他真名相关，万一以后值钱了呢？抱着买股票的心态，于deadline之前鬼使神差的续费了。</p><p>诚然，他不知道我有多大的耐心去坚持更新我的博客，虽然他一直都有很多想要诉说的。Code OR Program，Sport OR Pop Star，或者简单聊聊自己，聊聊what I want to say to the world. </p><p>我只希望，在俗世浮华之中，能找一个心灵的净土。从容地面对这个世界。</p><p>为天地立心，为生命立命，为往圣继绝学，为万世开太平。</p><p>2020.1.19 22:03</p><p>2021.1.19<br>今早遇雪<br>心头涌出一句：『待到此花飞尽』<br>不恨此花飞尽，恨西园落红难缀，晓雨来过，遗踪何在，一池碎萍。</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;时隔多年，他又拿出了尘封已久的lilihx.com，竟然有了些悔意。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Heart" scheme="http://example.com/categories/Heart/"/>
    
    
    <category term="heart" scheme="http://example.com/Tags/heart/"/>
    
  </entry>
  
</feed>
